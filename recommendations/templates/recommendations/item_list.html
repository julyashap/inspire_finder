{% extends "recommendations/base.html" %}
{% block content %}
{% if user.like_set.exists %}
<div class="text-center">
    <a style="margin-bottom: 20px" class="btn btn-outline-primary" href="#">–†–∞—Å—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</a>
</div>
{% else %}
<div class="text-center">
    <a style="margin-bottom: 20px" class="btn btn-outline-secondary" href="#" data-toggle="tooltip"
   title="–°–Ω–∞—á–∞–ª–∞ –ª–∞–π–∫–Ω–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å!">–†–∞—Å—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</a>
</div>
{% endif %}
<form method="GET" action="{% url 'recommendations:item_list' %}">
    {% csrf_token %}
    <div class="input-group mb-3">
        <input type="text" class="form-control" name="search">
        <button type="submit" class="btn btn-primary">–ü–æ–∏—Å–∫</button>
    </div>
</form>
<div class="row text-center">
    {% if object_list %}
    {% for object in object_list %}
    <div class="col-3">
        <div class="card mb-4 box-shadow">
            <div class="card-header">
                <h4 class="my-0 font-weight-normal">{{ object.name }}</h4>
            </div>
            <div class="card-body">
                <h5>{{ object.description|slice:100 }}...</h5>
                <div class="btn-group" role="group">
                    <a class="btn btn-outline-primary" href="{% url 'recommendations:item_detail' object.pk %}">
                        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å
                    </a>
                    {% if not object.pk in user_likes_list %}
                    <a class="btn btn-outline-danger" href="{% url 'recommendations:item_like' object.pk %}">‚ù§</a>
                    {% else %}
                    <a class="btn btn-danger" href="{% url 'recommendations:item_unlike' object.pk %}">‚ù§</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div>
        <p>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üòî</p>
        <a class="btn btn-outline-primary" href="{% url 'recommendations:item_list' %}">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
    {% endif %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  });
</script>

{% endblock %}